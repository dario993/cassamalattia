

<div id="benefits" class="">
    <form [formGroup]="myForm" class="myform" >
      
      <div class="row">
        <div class="col">
          <h2 i18n="ciao">Ciao {{person.nome}}</h2>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <p style="font-size: 1.2rem" i18n="ci espogna le sue eisgneze">Ci esponga le sue esigenze e le consiglieremo le assicurazioni adeguate.</p>
        </div>
      </div>

      <!-- 
      <div class="row level-offert title" style="margin-top: 2rem">
        <div class="col nopadding">
          <h4><span i18n="livello assicurazione">Livello di assicurazione</span></h4>
        </div>
      </div>
      <div class="row basic-insurance" formArrayName="level">
        <div class="col">
          <div  *ngFor="let level of levelForm.controls; let j=index" class="basic-insurance__tile" [formGroupName]="j" (click)="changeLevel(level)" [ngClass]="{'basic-insurance__tile--selected': isSelected(level), 'basic-insurance__tile--disabled': isDisabled() }" >
            <div class="basic-insurance__tile--wrapper"  >
              <div class="basic-insurance__tile--content">
                <div >{{level.value.title}}</div>
              </div>
              <div class="basic-insurance__tile--info">
                <i class="fas fa-info-circle" font-size="medium" ngbPopover="{{level.value.descrizione_poupop}}" triggers="mouseenter:mouseleave" ></i>
              </div>
            </div>
          </div>
        </div>
      </div>
      -->


      <div class="row basic-insurance title"  style="margin-top: 2rem;">
        <div class="col nopadding">
          <h4><span i18n="assicurazione di base">Assicurazione di base</span> </h4>
        </div>
      </div>
      <div class="row basic-insurance" formArrayName="basics">
        <div class="col">
          <div  *ngFor="let basic of basicsForm.controls; let j=index" class="basic-insurance__tile" [formGroupName]="j" (click)="selectBasic(basic, j)" [ngClass]="{'basic-insurance__tile--selected': isSelected(basic), 'basic-insurance__tile--disabled': isDisabled() }">
            <div class="basic-insurance__tile--wrapper"  >
              <div class="basic-insurance__tile--content">
                <div >{{basic.value.title}}</div>
              </div>
              <div class="basic-insurance__tile--info">
                <i class="fas fa-info-circle" font-size="medium" ngbPopover="{{basic.value.descrizione_poupop}}" triggers="mouseenter:mouseleave" ></i>
              </div>
            </div>
          </div>
        </div>
      </div>


      <div formGroupName="person" *ngIf="viewMedico">
        <div class="row">
          <div class="col-12 col-md-6 form-group">
              <label for="inputNomeMedico" i18n="Medico di famiglia">Medico di Famiglia</label>
              <input  id="inputNomeMedico" type="text" formControlName="nomeMedico"  class="form-control form-control-lg" value=" "   placeholder="Nome"   >
          </div>
          <div class="col-12 col-md-6">
              <label for="inputPlzMedico" i18n="Plz">PLZ Medico</label>
              <input  id="inputPlzMedico" type="text" formControlName="plzMedico" class="form-control form-control-lg" value=" "  placeholder="PLZ"  >
            
          </div>
        </div>
      </div>

      
      <div class="row additional-benefits title"  style="margin-top: 2rem">
        <div class="col nopadding">
          <h4 i18n="assicurazione complementare">Assicurazione complementare</h4>
        </div>
      </div>
      <div class="row additional-benefits"  formArrayName="benefits">
        <div class="col">
          <div *ngFor="let benefit of benefitsForm.controls; let z=index" class="additional-benefits__tile" [formGroupName]="z" (click)="selectBenefit(benefit)" [ngClass]="{'additional-benefits__tile--selected': isSelected(benefit)}">
            <div class="additional-benefits__tile--wrapper"  >
              <i [ngClass]="benefit.value.icon"></i>
              <div class="additional-benefits__tile--content"><!---->
                <div>{{benefit.value.title}}</div>
              </div>
              <div class="basic-insurance__tile--info">
                <i class="fas fa-info-circle" font-size="medium" ngbPopover="{{benefit.value.descrizione_poupop}}" triggers="mouseenter:mouseleave" ></i>
              </div>
            </div>
          </div>
        </div>
      </div>



      <div class="row basic-insurance title"  style="margin-top: 2rem">
        <div class="col nopadding">
          <h4 i18n="assicurazione ospedaliera">Assicurazioni ospedaliere</h4>
        </div>
      </div>
      <div class="row basic-insurance" formArrayName="hospital">
        <div class="col">
          <div  *ngFor="let hospital of hospitalForm.controls; let j=index" class="basic-insurance__tile" [formGroupName]="j" (click)="changeHospital(hospital)" [ngClass]="{'basic-insurance__tile--selected': isSelected(hospital) }" >
            <div class="basic-insurance__tile--wrapper"  >
              <div class="basic-insurance__tile--content">
                <div >{{hospital.value.title}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <div class="row nopadding row-avanti-indietro border-top" style="margin-top: 20px">
      <div class="col nopadding">
          <button type="button"   class="btn btn-outline-primary btn-large" (click)="backStep()" i18n="indietro">Indietro</button>
      </div>
      <div class="col nopadding">
        <button type="button"  style="margin-right: 0.75rem;"  [disabled]="myForm.invalid"  class="btn btn-large btn-dark float-right" (click)="nextStep()" i18n="avanti">Avanti</button>
      </div>
  </div>

  
  

</div>
